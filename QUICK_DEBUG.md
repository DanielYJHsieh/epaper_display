# E-Paper 快速除錯檢查清單

## 🚨 緊急檢查 (5分鐘內完成)

### ✅ 步驟 1：電源檢查
```
□ VCC 連接到 3.3V (不是 5V!)
□ GND 正確連接
□ 用萬用電表確認電壓為 3.3V ±0.1V
```

### ✅ 步驟 2：連線檢查
```
□ 所有杜邦線插緊
□ 沒有鬆動的連接
□ 使用萬用電表檢查連續性
```

### ✅ 步驟 3：序列埠檢查
```
□ 開啟序列埠監控器 (115200 baud)
□ 重新啟動 ESP8266
□ 觀察啟動訊息
□ 是否有錯誤訊息?
```

## 🔧 詳細除錯流程

### 📋 使用除錯程式
1. **上傳除錯程式**
   ```
   - 開啟 examples/debug_test.ino
   - 編譯並上傳到 ESP8266
   - 觀察序列埠輸出
   ```

2. **執行測試**
   ```
   序列埠輸入：
   - all     (執行所有測試)
   - 1       (腳位測試)
   - 2       (SPI 測試)
   - 3       (重置測試)
   - 4       (BUSY 信號測試)
   - 5       (命令測試)
   - 6       (顯示測試)
   ```

### 🎯 常見問題及解決方案

#### ❌ 問題 1：程式卡在 "等待顯示器就緒"
```
原因：BUSY 信號問題
解決：
1. 檢查 D2 (GPIO4) 到 BUSY 的連接
2. 確認 BUSY 腳位沒有接錯
3. 嘗試拔掉 BUSY 線 (某些模組不需要)
```

#### ❌ 問題 2：完全無反應
```
原因：電源或基本連接問題
解決：
1. 確認 3.3V 電源 (最重要!)
2. 檢查 GND 連接
3. 確認 CS、DC、RST 連接
4. 嘗試更換杜邦線
```

#### ❌ 問題 3：部分顯示或花屏
```
原因：SPI 通訊問題
解決：
1. 降低 SPI 頻率 (改為 1MHz)
2. 檢查 MOSI (D7) 和 CLK (D5) 連接
3. 確認杜邦線品質
4. 加入去耦電容 (0.1μF)
```

#### ❌ 問題 4：初始化失敗
```
原因：時序或命令問題
解決：
1. 確認 RST 腳位連接
2. 增加延遲時間
3. 檢查 DC 腳位
4. 嘗試不同的初始化序列
```

## 🔍 進階除錯技巧

### 📊 使用萬用電表檢查
```
測量點：
1. VCC 到 GND：應為 3.3V
2. 各信號線連續性：應為 0Ω
3. 開路測試：確認沒有短路
```

### 📡 SPI 信號檢查
```
如果有示波器或邏輯分析儀：
1. 觀察 CLK 信號
2. 檢查 MOSI 資料
3. 確認 CS 時序
4. 驗證 DC 信號切換
```

### 🧪 分步驟測試
```
1. 只連接電源和 RST，測試重置
2. 加入 CS、DC，測試基本通訊
3. 加入 MOSI、CLK，測試 SPI
4. 最後加入 BUSY，測試完整功能
```

## 📞 求助時請提供

### 🗂️ 必要資訊
```
1. 完整的序列埠輸出 (複製貼上)
2. 硬體連接照片 (清楚標示每條線)
3. E-Paper 模組型號 (檢查背面標籤)
4. ESP8266 開發板型號
5. 電源供應方式 (USB、外部電源等)
6. 測試結果 (哪個步驟失敗)
```

### 📸 拍照重點
```
- 整體接線圖
- ESP8266 腳位特寫
- E-Paper 模組接線特寫  
- 電源連接
- 任何異常現象
```

## ⚡ 快速修復嘗試

### 🔄 重新開始法
```
1. 斷開所有連線
2. 重新按照接線圖連接
3. 檢查每條線2次
4. 確認電源最後連接
5. 上傳除錯程式測試
```

### 🔧 替換法
```
1. 更換杜邦線 (最常見問題)
2. 嘗試不同的 ESP8266 (排除板子問題)
3. 使用麵包板 (改善連接穩定性)
4. 更換電源供應 (確保電流足夠)
```

---

**記住**：90% 的 E-Paper 問題都是電源或連線問題！

**作者**：DYJ Hsieh  
**更新**：2025年7月
