# WiFi SPI Display Server - Raspberry Pi 1 Model B 相容版本
# 
# 此檔案針對 ARMv6 架構最佳化，使用 piwheels 預編譯套件
# 
# 安裝指令:
#   pip install --index-url https://www.piwheels.org/simple \
#               --extra-index-url https://pypi.org/simple \
#               -r requirements_rpi.txt
#
# 系統需求:
#   - Raspberry Pi OS Lite (Legacy, 32-bit)
#   - Python 3.9+
#   - 系統套件: libjpeg-dev, zlib1g-dev, libfreetype6-dev

# ==============================================================================
# Web Server & Networking
# ==============================================================================

# aiohttp: 非同步 HTTP 伺服器與客戶端
aiohttp==3.8.5

# websockets: WebSocket 協定實作
websockets==11.0.3

# ==============================================================================
# Image Processing
# ==============================================================================

# Pillow: Python 圖像處理函式庫
# 注意: 需要系統套件支援 (libjpeg, zlib, freetype)
Pillow==10.0.0

# numpy: 數值運算與陣列處理
# piwheels 提供 ARMv6 最佳化版本
numpy==1.24.4

# ==============================================================================
# System Utilities
# ==============================================================================

# psutil: 系統與程序監控
# 用於記憶體監控與資源使用追蹤
psutil==5.9.5

# ==============================================================================
# Development & Debugging (可選)
# ==============================================================================

# 若需要開發除錯，可額外安裝:
# pytest==7.4.0
# pytest-asyncio==0.21.1
# black==23.7.0
# flake8==6.1.0

# ==============================================================================
# 版本說明
# ==============================================================================
#
# aiohttp 3.8.5:
#   - 穩定版本，支援 Python 3.9+
#   - 在 RPi1 上測試通過
#   - 記憶體使用合理 (~30-50MB)
#
# websockets 11.0.3:
#   - 最新穩定版
#   - 效能良好，記憶體佔用低
#   - 支援所有必要功能
#
# Pillow 10.0.0:
#   - 支援所有常見圖像格式
#   - piwheels 提供預編譯版本 (安裝快速)
#   - 需要系統原生函式庫支援
#
# numpy 1.24.4:
#   - 最後一個支援 Python 3.9 的穩定版本
#   - piwheels 提供 ARMv6 最佳化版本
#   - 避免使用 1.25+ (需較新 Python)
#
# psutil 5.9.5:
#   - 穩定且輕量
#   - 提供完整的系統監控功能
#   - 跨平台相容性佳
#
# ==============================================================================
# 安裝疑難排解
# ==============================================================================
#
# 若遇到 Pillow 安裝錯誤:
#   sudo apt install -y libjpeg-dev zlib1g-dev libfreetype6-dev \
#                       libopenjp2-7-dev libtiff5-dev libwebp-dev
#
# 若遇到 numpy 安裝過慢:
#   - 確保使用 piwheels (預編譯版本)
#   - 避免從 PyPI 編譯 (會花費 20+ 分鐘)
#
# 若遇到記憶體不足:
#   - 增加 swap 空間: sudo dphys-swapfile swapoff && 
#     sudo nano /etc/dphys-swapfile (設為 1024) &&
#     sudo dphys-swapfile setup && sudo dphys-swapfile swapon
#
# 檢查安裝是否成功:
#   python -c "import aiohttp, websockets, PIL, numpy, psutil; print('✅ OK')"
