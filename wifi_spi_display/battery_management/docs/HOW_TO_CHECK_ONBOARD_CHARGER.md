# 如何檢查你的 ESP8266 開發板是否有板載充電電路

本文件提供簡潔、步驟化的檢查流程，幫你判定目前手上的板子（如 WeMos D1 Mini / NodeMCU）是否內建充電電路（例如 TP4056 或其他充電 IC / BAT 接口）。

---

## 檢查前的安全提醒
- 在操作前先斷開所有電源（USB 與電池）。
- 使用萬用表量測時，確保旋鈕與量程正確。
- 若不熟悉電子操作，請尋求有經驗的人員協助。

---

## 檢查步驟概覽（快速總覽）
1. 目視檢查：電路板上標記 "BAT", "BATT", "BAT+", "TP4056", "CHG", 或電池圖示
2. 查詢板子型號/原廠文件：搜尋 "battery"、"charging" 或 "BAT" 的關鍵字
3. 電性量測：插入 USB，量測疑似 BAT/OUT 腳位電壓；或量 TP4056 IN/OUT
4. 序列埠/印刷標示：查看 PCB silkscreen 或元件標號
5. 進階：用示波器/電流表測量充電電流

---

## 詳細步驟

### 1) 目視檢查（最簡單）
- 找尋 PCB 上的文字：`BAT`, `BATT`, `BAT+`, `B+`, `B-`, `CHG`, `TP4056`, `DW01A`。
- 檢查是否有 **電池座**、或 2-pin/3-pin 的電池接頭（通常標註 `BATT` 或 `BAT`）。
- 找尋小型 SMD IC 標號（例如 TP4056 常見封裝上會標 `TP4056` 或近似型號），或有紅/藍 LED 標示充電/滿電。

範例標記位置：
```
BATT+, BATT-  <- 電池接頭
TP4056        <- 充電 IC
CHG / STDBY   <- 充電指示燈
```

### 2) 查資料（文件/型號）
- 找到板子背面的型號（例如 `Wemos D1 Mini v3`）或搜尋產品頁面/原廠文件。
- 在 Google / GitHub /產品頁面搜尋 `<BOARD_MODEL> battery`、`<BOARD_MODEL> charging`、`<BOARD_MODEL> BAT`。
- 若手邊有原始的 BOM 或原理圖（schematic），可直接查詢是否有充電電路。

### 3) 電性量測（最直接）
> 目標：在插入 USB（5V）時找到充電 IC 的輸入（IN+）與輸出（OUT+），或確認板載 BAT 腳位電壓變化。

步驟：
1. 先把萬用表設為 DC 量測（0-20V 範圍）。
2. **先斷電**，用萬用表確認 BAT 與 GND 的導通（無短路）。
3. 插入 USB，量測如下點：
   - USB 5V 與 GND（確認 5V）
   - 若有印刷 `BAT` 或 `BATT` 腳位：量 BAT+ 與 GND（應顯示電池電壓或接近）
   - 若找到小型 IC（懷疑為 TP4056），量測其 IN+ 與 OUT+（IN+ 會是 USB 5V，OUT+ 會是接電池）

**判定規則**:
- 如果插 USB 時，某個點（標為 BAT/OUT）出現 ~4.2V（或正在變化），表示有充電電路正在給電池充電。
- 如果只有 USB 5V，但沒有 BAT/電池連接點，表示沒有板載充電。

### 4) LED 與狀態腳位檢查
- 有些板子會把充電指示燈暴露在外（紅=充電、藍=充滿等）。
- 若看到 CHG/GND 腳位，連接到 GPIO，可在插 USB 時透過程式讀取該腳位（或直接量測電壓）來判斷。

### 5) 進階量測（充電電流）
- 若要確定充電是否正常，可在 TP4056 的 IN+ 或電池與模組之間串聯電流表量測充電電流（典型值 0-1A）
- 示波器可用來觀察充電波形與穩定性（非必要）

---

## 快速檢查清單（複製可用）
- [ ] 目視檢查：PCB 上有 `BAT`, `BATT`, `TP4056` 標示
- [ ] 查產品頁面 / schematic
- [ ] 插 USB，量測 BAT+/GND 或 TP4056 OUT+（是否有變化）
- [ ] 檢查板載 LED 充電指示
- [ ] 若不確定，使用獨立 TP4056 測試充電流程（隔離測試）

---

## 範例：WeMos D1 Mini
- 多數基礎 WeMos D1 Mini **沒有** 板載充電電路，但有些衍生板（如 Lolin D1 mini Pro / Battery Shield）會有 BAT 接口。
- 若背板或側邊標示 `BAT` 或有 2-pin 電池座，通常代表有板載充電或電池連接支援。

---

## 需要我幫你做什麼？
- 我可以幫你在 repository 中搜尋 `BAT`, `TP4056`, `charging` 等關鍵詞來快速定位文件（我可以替你執行）。
- 或你可以拍攝開發板正反面照片，我可以協助判讀板上標記與元件。

---

**版本**: 1.0  
**撰寫日期**: 2025-10-12  
**維護**: battery_management 專案團隊
